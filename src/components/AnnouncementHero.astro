---
// Logique pour déterminer si une bannière doit être affichée
function shouldShowBanner(deadline) {
    const currentDate = new Date();
    const deadlineDate = new Date(deadline);
    return currentDate < deadlineDate;
}

// Données des bannières
const banners = [
    {
        title: "CRESI Championship",
        city: "Lille Karting Outdoor",
        dateLocation: "20 of January, 2024 | Lille, France",
        cfaText: "Get Free Tickets",
        eventName: "AACoT'23 Paris Edition",
        link: "https://ticket.apidays.global/event/apidays-paris-2023/8a1f3904-e2be-4c69-a880-37d2ddf1027d/cart?coupon=ASYNCAPICONF23",
        deadline: '2024-01-08T00:00:00Z',
        isDraft: false
    }
    // Ajouter d'autres bannières si nécessaire
];

const visibleBanners = banners.filter(banner => !banner.isDraft && shouldShowBanner(banner.deadline));
---

<!-- Container Component -->
<div class="max-w-4xl mx-auto w-full px-4 sm:px-6 lg:px-8 text-center">
    {visibleBanners.map((banner, index) => (
        <div key={index} class="bg-gray-50 border border-gray-200 rounded mb-4 p-3">
            <!-- Heading Component -->
            <h2 class="font-heading text-heading-md font-bold tracking-heading md:text-heading-lg text-primary-800 text-2xl">
                {banner.title}
            </h2>
            <h2 class="text-xl font-heading text-heading-md font-semibold tracking-heading text-primary-800">
                {banner.city}
            </h2>

            <!-- Paragraph Component -->
            <p class="text-lg text-gray-700">
                {banner.dateLocation}
            </p>

            <!-- Button Component -->
            <a href={banner.link} target="_blank" rel="noopener noreferrer"
                class="text-red-600 bg-primary-500 hover:bg-primary-400 transition-all duration-500 ease-in-out rounded-md px-4 py-3 text-md font-semibold tracking-heading">
                {banner.cfaText}
            </a>
        </div>
    ))}
</div>
